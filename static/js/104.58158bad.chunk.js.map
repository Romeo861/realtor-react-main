{"version":3,"file":"static/js/104.58158bad.chunk.js","mappings":"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","sources":["pages/EditListing.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Spinner from \"../components/Spinner\";\nimport \"./CreateListing.scss\";\nimport { toast } from \"react-toastify\";\nimport {\n  getStorage,\n  ref,\n  uploadBytesResumable,\n  getDownloadURL,\n} from \"firebase/storage\";\nimport { getAuth } from \"firebase/auth\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { doc, getDoc, serverTimestamp, updateDoc } from \"firebase/firestore\";\nimport { db } from \"../firebase\";\nimport { useNavigate, useParams } from \"react-router-dom\";\n\nexport default function EditListing() {\n  const navigate = useNavigate();\n  const auth = getAuth();\n  const [geolocationEnabled, setGeoLocationEnabled] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [listing, setListing] = useState(null);\n  const [formData, setFormData] = useState({\n    type: \"rent\",\n    name: \"\",\n    bedrooms: 1,\n    bathrooms: 1,\n    parking: false,\n    furnished: false,\n    address: \"\",\n    description: \"\",\n    offer: false,\n    regularPrice: 0,\n    discountedPrice: 0,\n    latitude: 0,\n    longitude: 0,\n    images: {},\n  });\n  const {\n    type,\n    name,\n    bedrooms,\n    bathrooms,\n    parking,\n    address,\n    furnished,\n    description,\n    offer,\n    regularPrice,\n    discountedPrice,\n    latitude,\n    longitude,\n    images,\n  } = formData;\n\n  const params = useParams();\n\n  useEffect(() => {\n    if (listing && listing.userRef !== auth.currentUser.uid) {\n      toast.error(`You can't edit this listing`);\n      navigate(\"/\");\n    }\n  }, [listing, auth.currentUser.uid, navigate]);\n\n  useEffect(() => {\n    setLoading(true);\n    async function fetchListing() {\n      const docRef = doc(db, \"listings\", params.listingId);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setListing(docSnap.data());\n        setFormData({ ...docSnap.data() });\n        setLoading(false);\n      } else {\n        navigate(\"/\");\n        toast.error(\"Listing does not exist\");\n      }\n    }\n    fetchListing();\n  }, [navigate, params.listingId]);\n\n  function onChange(e) {\n    let boolean = null;\n    if (e.target.value === \"true\") {\n      boolean = true;\n    }\n    if (e.target.value === \"false\") {\n      boolean = false;\n    }\n\n    // Files\n    if (e.target.files) {\n      setFormData((prevState) => ({\n        ...prevState,\n        images: e.target.files,\n      }));\n    }\n\n    // Text and Boolean\n    if (!e.target.files) {\n      setFormData((prevState) => ({\n        ...prevState,\n        [e.target.id]: boolean ?? e.target.value,\n      }));\n    }\n  }\n\n  async function onSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    if (+discountedPrice >= +regularPrice) {\n      setLoading(false);\n      toast.error(\"Discounted price needs to be less than regular price\");\n      return;\n    }\n\n    if (images.length > 6) {\n      setLoading(false);\n      toast.error(\"Maximum 6 images are allowed\");\n      return;\n    }\n\n    let geolocation = {};\n\n    if (geolocationEnabled) {\n      return;\n    } else {\n      geolocation.lat = latitude;\n      geolocation.lng = longitude;\n    }\n\n    async function storeImage(image) {\n      return new Promise((resolve, reject) => {\n        const storage = getStorage();\n        const filename = `${auth.currentUser.uid}-${image.name}-${uuidv4()}`;\n        const storageRef = ref(storage, filename);\n        const uploadTask = uploadBytesResumable(storageRef, image);\n\n        uploadTask.on(\n          \"state_changed\",\n          (snapshot) => {\n            // Observe state change events such as progress, pause, and resume\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n            const progress =\n              (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n            console.log(\"Upload is \" + progress + \"% done\");\n            switch (snapshot.state) {\n              case \"paused\":\n                console.log(\"Upload is paused\");\n                break;\n              case \"running\":\n                console.log(\"Upload is running\");\n                break;\n            }\n          },\n          (error) => {\n            // Handle unsuccessful uploads\n            reject(error);\n          },\n          () => {\n            // Handle successful uploads on complete\n            getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n              resolve(downloadURL);\n            });\n          }\n        );\n      });\n    }\n\n    const imgUrls = await Promise.all(\n      [...images].map((image) => storeImage(image))\n    ).catch((error) => {\n      setLoading(false);\n      toast.error(\"Images not uploaded\");\n      return;\n    });\n\n    const formDataCopy = {\n      ...formData,\n      imgUrls,\n      geolocation,\n      timestamp: serverTimestamp(),\n      userRef: auth.currentUser.uid,\n    };\n    delete formDataCopy.images;\n    !formDataCopy.offer && delete formDataCopy.discountedPrice;\n    delete formDataCopy.latitude;\n    delete formDataCopy.longitude;\n    const docRef = doc(db, \"listings\", params.listingId);\n    await updateDoc(docRef, formDataCopy);\n    setLoading(false);\n    toast.success(\"Listing Edited\");\n    navigate(`/category/${formDataCopy.type}/${docRef.id}`);\n  }\n\n  if (loading) {\n    return <Spinner />;\n  }\n\n  return (\n    <main className=\"create-listing\">\n      <h1 className=\"create-listing__heading\">Edit Listing</h1>\n      <form onSubmit={onSubmit} className=\"create-listing__form\">\n        <p className=\"create-listing__form-sub-heading\">Sell / Rent</p>\n        <div className=\"create-listing__form-toggle-btn-wrap\">\n          <button\n            type=\"button\"\n            id=\"type\"\n            value=\"sale\"\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              type === \"rent\"\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            sell\n          </button>\n          <button\n            type=\"button\"\n            id=\"type\"\n            value=\"rent\"\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              type === \"sale\"\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            rent\n          </button>\n        </div>\n        <p className=\"create-listing__form-sub-heading\">Name</p>\n        <input\n          type=\"text\"\n          id=\"name\"\n          value={name}\n          onChange={onChange}\n          placeholder=\"Name\"\n          maxLength=\"32\"\n          minLength=\"10\"\n          required\n          className=\"create-listing__form-input\"\n        />\n        <div className=\"create-listing__form-small-input-wrap\">\n          <div>\n            <p className=\"create-listing__form-sub-heading\">Beds</p>\n            <input\n              type=\"number\"\n              id=\"bedrooms\"\n              value={bedrooms}\n              onChange={onChange}\n              min=\"1\"\n              max=\"50\"\n              required\n              className=\" create-listing__form-input\"\n            />\n          </div>\n          <div>\n            <p className=\"create-listing__form-sub-heading\">Baths</p>\n            <input\n              type=\"number\"\n              id=\"bathrooms\"\n              value={bathrooms}\n              onChange={onChange}\n              min=\"1\"\n              max=\"50\"\n              required\n              className=\"create-listing__form-input\"\n            />\n          </div>\n        </div>\n        <p className=\" create-listing__form-sub-heading\">Parking spot</p>\n        <div className=\"create-listing__form-toggle-btn-wrap\">\n          <button\n            type=\"button\"\n            id=\"parking\"\n            value={true}\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              !parking\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            Yes\n          </button>\n          <button\n            type=\"button\"\n            id=\"parking\"\n            value={false}\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              parking\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            no\n          </button>\n        </div>\n        <p className=\" create-listing__form-sub-heading\">Furnished</p>\n        <div className=\"create-listing__form-toggle-btn-wrap\">\n          <button\n            type=\"button\"\n            id=\"furnished\"\n            value={true}\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              !furnished\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            yes\n          </button>\n          <button\n            type=\"button\"\n            id=\"furnished\"\n            value={false}\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              furnished\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            no\n          </button>\n        </div>\n        <p className=\"create-listing__form-sub-heading\">Address</p>\n        <textarea\n          type=\"text\"\n          id=\"address\"\n          value={address}\n          onChange={onChange}\n          placeholder=\"Address\"\n          required\n          className=\"create-listing__form-input\"\n        />\n        {!geolocationEnabled && (\n          <div className=\"create-listing__form-rent\">\n            <div className=\"\">\n              <p className=\"create-listing__form-sub-heading\">Latitude</p>\n              <input\n                type=\"number\"\n                id=\"latitude\"\n                value={latitude}\n                onChange={onChange}\n                required\n                min=\"-90\"\n                max=\"90\"\n                step=\"any\"\n                className=\"create-listing__form-input\"\n                placeholder=\"Ex: 13.095631\"\n              />\n            </div>\n            <div className=\"\" style={{ marginLeft: \"1.4rem\" }}>\n              <p className=\"create-listing__form-sub-heading\">Longitude</p>\n              <input\n                type=\"number\"\n                id=\"longitude\"\n                value={longitude}\n                onChange={onChange}\n                required\n                min=\"-180\"\n                max=\"180\"\n                step=\"any\"\n                className=\"create-listing__form-input\"\n                placeholder=\"Ex: 80.207620\"\n              />\n            </div>\n          </div>\n        )}\n        <p className=\"create-listing__form-sub-heading\">Description</p>\n        <textarea\n          type=\"text\"\n          id=\"description\"\n          value={description}\n          onChange={onChange}\n          placeholder=\"Description\"\n          required\n          className=\"create-listing__form-input\"\n        />\n        <p className=\"create-listing__form-sub-heading\">Offer</p>\n        <div className=\"create-listing__form-toggle-btn-wrap\">\n          <button\n            type=\"button\"\n            id=\"offer\"\n            value={true}\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              !offer\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            yes\n          </button>\n          <button\n            type=\"button\"\n            id=\"offer\"\n            value={false}\n            onClick={onChange}\n            className={`create-listing__form-toggle-btn ${\n              offer\n                ? \"create-listing__form-toggle-btn--white\"\n                : \"create-listing__form-toggle-btn--black\"\n            }`}\n          >\n            no\n          </button>\n        </div>\n        <div className=\"create-listing__form-rent\">\n          <div className=\"\">\n            <p className=\"create-listing__form-sub-heading\">Regular price</p>\n            <div className=\"create-listing__form-toggle-rent-btn-wrap\">\n              <input\n                type=\"number\"\n                id=\"regularPrice\"\n                value={regularPrice}\n                onChange={onChange}\n                min=\"50\"\n                max=\"400000000\"\n                required\n                className=\"create-listing__form-input\"\n              />\n              {type === \"rent\" && (\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    marginLeft: \"1.4rem\",\n                  }}\n                >\n                  <p\n                    className=\"create-listing__form-rent-month\"\n                    style={{ width: \"100px\", fontSize: \"1.2rem\" }}\n                  >\n                    ₹ / Month\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n        {offer && (\n          <div className=\"create-listing__form-rent\">\n            <div className=\"\">\n              <p className=\"create-listing__form-sub-heading\">\n                Discounted price\n              </p>\n              <div className=\"create-listing__form-toggle-rent-btn-wrap\">\n                <input\n                  type=\"number\"\n                  id=\"discountedPrice\"\n                  value={discountedPrice}\n                  onChange={onChange}\n                  min=\"50\"\n                  max=\"400000000\"\n                  required={offer}\n                  className=\"create-listing__form-input\"\n                />\n                {type === \"rent\" && (\n                  <div\n                    style={{\n                      display: \"flex\",\n                      justifyContent: \"center\",\n                      alignItems: \"center\",\n                      marginLeft: \"1.4rem\",\n                    }}\n                  >\n                    <p\n                      className=\"create-listing__form-rent-month\"\n                      style={{ width: \"100px\", fontSize: \"1.2rem\" }}\n                    >\n                      ₹ / Month\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n        <div style={{ marginBottom: \"3rem\" }}>\n          <p className=\"create-listing__form-sub-heading\">Images</p>\n          <p\n            style={{\n              color: \"rgb(76 74 74)\",\n              fontSize: \"12px\",\n              marginBottom: \"5px\",\n            }}\n          >\n            The first image will be the cover (max 6) / image file should be\n            less than 2mb/image file\n          </p>\n          <input\n            type=\"file\"\n            id=\"images\"\n            onChange={onChange}\n            accept=\".jpg,.png,.jpeg\"\n            multiple\n            required\n            className=\"create-listing__form-input\"\n            style={{ fontSize: \"20px\" }}\n          />\n        </div>\n        <button type=\"submit\" className=\"create-listing__btn-signing\">\n          Edit Listing\n        </button>\n      </form>\n    </main>\n  );\n}\n"],"names":["EditListing","navigate","useNavigate","auth","getAuth","geolocationEnabled","setGeoLocationEnabled","useState","loading","setLoading","listing","setListing","formData","setFormData","type","name","bedrooms","bathrooms","parking","furnished","address","description","offer","regularPrice","discountedPrice","latitude","longitude","images","params","useParams","onChange","e","boolean","target","value","files","prevState","_objectSpread","_boolean","id","useEffect","userRef","currentUser","uid","toast","async","docRef","doc","db","listingId","docSnap","getDoc","exists","data","fetchListing","_jsx","Spinner","_jsxs","className","children","onSubmit","preventDefault","length","geolocation","lat","lng","imgUrls","Promise","all","map","image","resolve","reject","storage","getStorage","filename","concat","uuidv4","storageRef","ref","uploadTask","uploadBytesResumable","on","snapshot","progress","bytesTransferred","totalBytes","console","log","state","error","getDownloadURL","then","downloadURL","storeImage","catch","formDataCopy","timestamp","serverTimestamp","updateDoc","onClick","placeholder","maxLength","minLength","required","min","max","step","style","marginLeft","display","justifyContent","alignItems","width","fontSize","marginBottom","color","accept","multiple"],"sourceRoot":""}
"use strict";(self.webpackChunkrealtor_react=self.webpackChunkrealtor_react||[]).push([[348],{2348:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var a=t(7799),n=t(2791),i=t(7689),o=t(673),l=t(9436),r=t(794),c=t(8542),d=(t(5257),t(6355)),h=t(5667),u=t(5689),m=t(9085),p=t(184);function f(e){let{userRef:s,listing:t}=e;const[i,l]=(0,n.useState)(null),[r,c]=(0,n.useState)("");return(0,n.useEffect)((()=>{!async function(){const e=(0,a.JU)(o.db,"users",s),t=await(0,a.QT)(e);t.exists()?l(t.data()):m.Am.error("Could not get landlord data")}()}),[s]),(0,p.jsx)(p.Fragment,{children:null!==i&&(0,p.jsxs)("div",{className:"contact",children:[(0,p.jsxs)("p",{children:["Contact ",(0,p.jsx)("span",{style:{fontWeight:"600"},children:i.name})," ","for the"," ",(0,p.jsx)("span",{style:{fontWeight:"600"},children:" ".concat(t.name.toLowerCase())})]}),(0,p.jsx)("div",{className:"contact__textarea-wrap",children:(0,p.jsx)("textarea",{name:"message",id:"message",rows:"2",value:r,onChange:function(e){c(e.target.value)},className:"contact__textarea "})}),(0,p.jsx)("a",{style:{cursor:"none"},href:"mailto:".concat(i.email,"?Subject=").concat(t.name,"&body=").concat(r),children:(0,p.jsx)("button",{className:"contact__send-btn",type:"button",children:"Send Message"})})]})})}var x=t(9961),g=t(7626),j=t(6042),_=t(9500);const N=()=>{var e;const s=(0,u.v0)(),[t,m]=(0,n.useState)(null),[N,b]=(0,n.useState)(!0),[y,k]=(0,n.useState)(!1),[v,w]=(0,n.useState)(!1),S=(0,i.UO)();if(c.ZP.use([c.pt,c.W_,c.tl]),(0,n.useEffect)((()=>{!async function(){const e=(0,a.JU)(o.db,"listings",S.listingId),s=await(0,a.QT)(e);s.exists()&&(m(s.data()),b(!1))}()}),[S.listingId]),N)return(0,p.jsx)(l.Z,{});let C=h.NY;return(0,p.jsxs)("main",{children:[(0,p.jsx)(r.tq,{slidesPerView:1,navigation:!0,pagination:{type:"progressbar"},effect:"fade",modules:[c.xW],autoplay:{delay:2e3},children:t.imgUrls.map(((e,s)=>(0,p.jsx)(r.o5,{children:(0,p.jsx)("img",{src:t.imgUrls[s],alt:"house",className:"swiper-image"})},s)))}),(0,p.jsx)("div",{className:"copy-share-link",onClick:()=>{navigator.clipboard.writeText(window.location.href),k(!0),setTimeout((()=>{k(!1)}),2e3)},children:(0,p.jsx)(d.Lrt,{className:"copy-share-link__icon"})}),y&&(0,p.jsx)("p",{className:"copied-share-link",children:"Link Copied"}),(0,p.jsxs)("div",{smooth:"true",onClick:function(){C.scrollTo(700)},className:"arrow",children:[(0,p.jsx)("span",{}),(0,p.jsx)("span",{}),(0,p.jsx)("span",{})]}),(0,p.jsxs)("div",{className:"house-info",children:[(0,p.jsxs)("div",{className:"house-info__details",children:[(0,p.jsxs)("p",{className:"house-info__details-title",children:[t.name," - \u20b9"," ",t.offer?t.discountedPrice.toString().replace(/\B(?=(?:(\d\d)+(\d)(?!\d))+(?!\d))/g,","):t.regularPrice.toString().replace(/\B(?=(?:(\d\d)+(\d)(?!\d))+(?!\d))/g,","),"rent"===t.type?" / month":""]}),(0,p.jsxs)("p",{className:"house-info__details-address",children:[(0,p.jsx)(d.Nh4,{className:"house-info__details-address-icon"}),t.address]}),(0,p.jsxs)("div",{className:"house-info__details-category-and-offer",children:[(0,p.jsxs)("p",{className:"house-info__details-category",children:["For ","rent"===t.type?"Rent":"Sale"]}),t.offer&&(0,p.jsxs)("p",{className:"house-info__details-offer",children:["\u20b9",(+t.regularPrice-+t.discountedPrice).toString().replace(/\B(?=(?:(\d\d)+(\d)(?!\d))+(?!\d))/g,",")," ","discount"]})]}),(0,p.jsxs)("p",{style:{marginTop:"1rem"},children:[(0,p.jsx)("span",{style:{fontWeight:"600"},children:"Posted on:"})," ","".concat(t.timestamp.toDate().toDateString())]}),(0,p.jsxs)("p",{className:"house-info__details-description",children:[(0,p.jsx)("span",{style:{fontWeight:600},children:"Description - "}),t.description]}),(0,p.jsxs)("ul",{className:"house-info__details-hbk",children:[(0,p.jsxs)("li",{className:"house-info__details-hbk-element",children:[(0,p.jsx)(d.f0S,{className:" house-info__details-hbk-element-icon"}),+t.bedrooms>1?"".concat(t.bedrooms," Beds"):"1 Bed"]}),(0,p.jsxs)("li",{className:"house-info__details-hbk-element",children:[(0,p.jsx)(d.MvV,{className:"house-info__details-hbk-element-icon"}),+t.bathrooms>1?"".concat(t.bathrooms," Baths"):"1 Bath"]}),(0,p.jsxs)("li",{className:"house-info__details-hbk-element",children:[(0,p.jsx)(d.mxg,{className:"house-info__details-hbk-element-icon"}),t.parking?"Parking spot":"No parking"]}),(0,p.jsxs)("li",{className:"house-info__details-hbk-element",children:[(0,p.jsx)(d.O5m,{className:"house-info__details-hbk-element-icon"}),t.furnished?"Furnished":"Not furnished"]})]}),t.userRef!==(null===(e=s.currentUser)||void 0===e?void 0:e.uid)&&!v&&(0,p.jsx)("div",{className:" house-info__details-contact-landlord-wrap",style:{marginTop:"1.5rem"},children:(0,p.jsx)("button",{onClick:()=>w(!0),className:"house-info__details-contact-landlord-btn",children:"Contact Landlord"})}),v&&(0,p.jsx)(f,{userRef:t.userRef,listing:t})]}),(0,p.jsx)("div",{className:"house-info__details-map",children:(0,p.jsxs)(x.h,{center:[t.geolocation.lat,t.geolocation.lng],zoom:13,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[(0,p.jsx)(g.I,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,p.jsx)(j.J,{position:[t.geolocation.lat,t.geolocation.lng],children:(0,p.jsxs)(_.G,{children:["A pretty CSS3 popup. ",(0,p.jsx)("br",{})," Easily customizable."]})})]})})]})]})}}}]);
//# sourceMappingURL=348.429fa0da.chunk.js.map
{"version":3,"file":"static/js/348.429fa0da.chunk.js","mappings":"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","sources":["components/Contact.jsx","pages/Listing.jsx"],"sourcesContent":["import { doc, getDoc } from \"firebase/firestore\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { db } from \"../firebase\";\nimport \"./Contact.scss\";\n\nexport default function Contact({ userRef, listing }) {\n  const [landlord, setLandlord] = useState(null);\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    async function getLandlord() {\n      const docRef = doc(db, \"users\", userRef);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setLandlord(docSnap.data());\n      } else {\n        toast.error(\"Could not get landlord data\");\n      }\n    }\n    getLandlord();\n  }, [userRef]);\n  function onChange(e) {\n    setMessage(e.target.value);\n  }\n  return (\n    <>\n      {landlord !== null && (\n        <div className=\"contact\">\n          <p>\n            Contact <span style={{ fontWeight: \"600\" }}>{landlord.name}</span>{\" \"}\n            for the{\" \"}\n            <span style={{ fontWeight: \"600\" }}>\n              {` ${listing.name.toLowerCase()}`}\n            </span>\n          </p>\n          <div className=\"contact__textarea-wrap\">\n            <textarea\n              name=\"message\"\n              id=\"message\"\n              rows=\"2\"\n              value={message}\n              onChange={onChange}\n              className=\"contact__textarea \"\n            ></textarea>\n          </div>\n          <a\n            style={{ cursor: \"none\" }}\n            href={`mailto:${landlord.email}?Subject=${listing.name}&body=${message}`}\n          >\n            <button className=\"contact__send-btn\" type=\"button\">\n              Send Message\n            </button>\n          </a>\n        </div>\n      )}\n    </>\n  );\n}\n","import { doc, getDoc } from \"firebase/firestore\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { db } from \"../firebase\";\nimport Spinner from \"../components/Spinner\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport SwiperCore, {\n  EffectFade,\n  Autoplay,\n  Navigation,\n  Pagination,\n} from \"swiper\";\nimport \"swiper/css/bundle\";\nimport \"./Listing.scss\";\nimport {\n  FaBath,\n  FaBed,\n  FaChair,\n  FaMapMarkerAlt,\n  FaParking,\n  FaShare,\n} from \"react-icons/fa\";\nimport * as Scroll from \"react-scroll\";\nimport { getAuth } from \"firebase/auth\";\nimport Contact from \"../components/Contact\";\nimport { MapContainer, Popup, Marker, TileLayer } from \"react-leaflet\";\n\nconst Listing = () => {\n  const auth = getAuth();\n  const [listing, setListing] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [shareLinkCopied, setShareLinkCopied] = useState(false);\n  const [contactLandlord, setContactLandlord] = useState(false);\n  const params = useParams();\n  SwiperCore.use([Autoplay, Navigation, Pagination]);\n\n  useEffect(() => {\n    async function fetchListing() {\n      const docRef = doc(db, \"listings\", params.listingId);\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setListing(docSnap.data());\n        setLoading(false);\n      }\n    }\n    fetchListing();\n  }, [params.listingId]);\n\n  if (loading) {\n    return <Spinner />;\n  }\n  let scroll = Scroll.animateScroll;\n\n  function scrollTo() {\n    scroll.scrollTo(700);\n  }\n  return (\n    <main>\n      <Swiper\n        slidesPerView={1}\n        navigation\n        pagination={{ type: \"progressbar\" }}\n        effect=\"fade\"\n        modules={[EffectFade]}\n        autoplay={{ delay: 2000 }}\n      >\n        {listing.imgUrls.map((url, index) => (\n          <SwiperSlide key={index}>\n            <img\n              src={listing.imgUrls[index]}\n              alt={\"house\"}\n              className=\"swiper-image\"\n            />\n          </SwiperSlide>\n        ))}\n      </Swiper>\n      <div\n        className=\"copy-share-link\"\n        onClick={() => {\n          navigator.clipboard.writeText(window.location.href);\n          setShareLinkCopied(true);\n          setTimeout(() => {\n            setShareLinkCopied(false);\n          }, 2000);\n        }}\n      >\n        <FaShare className=\"copy-share-link__icon\" />\n      </div>\n      {shareLinkCopied && <p className=\"copied-share-link\">Link Copied</p>}\n      <div smooth=\"true\" onClick={scrollTo} className=\"arrow\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n\n      <div className=\"house-info\">\n        <div className=\"house-info__details\">\n          <p className=\"house-info__details-title\">\n            {listing.name} - â‚¹{\" \"}\n            {listing.offer\n              ? listing.discountedPrice\n                  .toString()\n                  .replace(/\\B(?=(?:(\\d\\d)+(\\d)(?!\\d))+(?!\\d))/g, \",\")\n              : listing.regularPrice\n                  .toString()\n                  .replace(/\\B(?=(?:(\\d\\d)+(\\d)(?!\\d))+(?!\\d))/g, \",\")}\n            {listing.type === \"rent\" ? \" / month\" : \"\"}\n          </p>\n          <p className=\"house-info__details-address\">\n            <FaMapMarkerAlt className=\"house-info__details-address-icon\" />\n            {listing.address}\n          </p>\n          <div className=\"house-info__details-category-and-offer\">\n            <p className=\"house-info__details-category\">\n              For {listing.type === \"rent\" ? \"Rent\" : \"Sale\"}\n            </p>\n            {listing.offer && (\n              <p className=\"house-info__details-offer\">\n                â‚¹\n                {(+listing.regularPrice - +listing.discountedPrice)\n                  .toString()\n                  .replace(/\\B(?=(?:(\\d\\d)+(\\d)(?!\\d))+(?!\\d))/g, \",\")}{\" \"}\n                discount\n              </p>\n            )}\n          </div>\n\n          <p style={{ marginTop: \"1rem\" }}>\n            <span style={{ fontWeight: \"600\" }}>Posted on:</span>{\" \"}\n            {`${listing.timestamp.toDate().toDateString()}`}\n          </p>\n          <p className=\"house-info__details-description\">\n            <span style={{ fontWeight: 600 }}>Description - </span>\n            {listing.description}\n          </p>\n          <ul className=\"house-info__details-hbk\">\n            <li className=\"house-info__details-hbk-element\">\n              <FaBed className=\" house-info__details-hbk-element-icon\" />\n              {+listing.bedrooms > 1 ? `${listing.bedrooms} Beds` : \"1 Bed\"}\n            </li>\n            <li className=\"house-info__details-hbk-element\">\n              <FaBath className=\"house-info__details-hbk-element-icon\" />\n              {+listing.bathrooms > 1 ? `${listing.bathrooms} Baths` : \"1 Bath\"}\n            </li>\n            <li className=\"house-info__details-hbk-element\">\n              <FaParking className=\"house-info__details-hbk-element-icon\" />\n              {listing.parking ? \"Parking spot\" : \"No parking\"}\n            </li>\n            <li className=\"house-info__details-hbk-element\">\n              <FaChair className=\"house-info__details-hbk-element-icon\" />\n              {listing.furnished ? \"Furnished\" : \"Not furnished\"}\n            </li>\n          </ul>\n          {listing.userRef !== auth.currentUser?.uid && !contactLandlord && (\n            <div\n              className=\" house-info__details-contact-landlord-wrap\"\n              style={{ marginTop: \"1.5rem\" }}\n            >\n              <button\n                onClick={() => setContactLandlord(true)}\n                className=\"house-info__details-contact-landlord-btn\"\n              >\n                Contact Landlord\n              </button>\n            </div>\n          )}\n          {contactLandlord && (\n            <Contact userRef={listing.userRef} listing={listing} />\n          )}\n        </div>\n        <div className=\"house-info__details-map\">\n          <MapContainer\n            center={[listing.geolocation.lat, listing.geolocation.lng]}\n            zoom={13}\n            scrollWheelZoom={false}\n            style={{ height: \"100%\", width: \"100%\" }}\n          >\n            <TileLayer\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <Marker\n              position={[listing.geolocation.lat, listing.geolocation.lng]}\n            >\n              <Popup>\n                A pretty CSS3 popup. <br /> Easily customizable.\n              </Popup>\n            </Marker>\n          </MapContainer>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Listing;\n"],"names":["Contact","_ref","userRef","listing","landlord","setLandlord","useState","message","setMessage","useEffect","async","docRef","doc","db","docSnap","getDoc","exists","data","toast","getLandlord","_jsx","_Fragment","children","_jsxs","className","style","fontWeight","name","concat","toLowerCase","id","rows","value","onChange","e","target","cursor","href","email","type","Listing","_auth$currentUser","auth","getAuth","setListing","loading","setLoading","shareLinkCopied","setShareLinkCopied","contactLandlord","setContactLandlord","params","useParams","SwiperCore","Autoplay","Navigation","Pagination","listingId","fetchListing","Spinner","scroll","Scroll","Swiper","slidesPerView","navigation","pagination","effect","modules","EffectFade","autoplay","delay","imgUrls","map","url","index","SwiperSlide","src","alt","onClick","navigator","clipboard","writeText","window","location","setTimeout","FaShare","smooth","scrollTo","offer","discountedPrice","toString","replace","regularPrice","FaMapMarkerAlt","address","marginTop","timestamp","toDate","toDateString","description","FaBed","bedrooms","FaBath","bathrooms","FaParking","parking","FaChair","furnished","currentUser","uid","MapContainer","center","geolocation","lat","lng","zoom","scrollWheelZoom","height","width","TileLayer","attribution","Marker","position","Popup"],"sourceRoot":""}
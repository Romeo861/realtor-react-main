"use strict";(self.webpackChunkrealtor_react=self.webpackChunkrealtor_react||[]).push([[355],{3355:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(7799),r=t(2791),c=t(9085),n=t(673),i=(t(4645),t(7835)),l=t(184);const o=()=>{const[e,s]=(0,r.useState)(null),[t,o]=(0,r.useState)(!0),[d,f]=(0,r.useState)(null);return(0,r.useEffect)((()=>{!async function(){try{const e=(0,a.hJ)(n.db,"listings"),t=(0,a.IO)(e,(0,a.ar)("offer","==",!0),(0,a.Xo)("timestamp","desc"),(0,a.b9)(8)),r=await(0,a.PL)(t),c=r.docs[r.docs.length-1];f(c);const i=[];r.forEach((e=>i.push({id:e.id,data:e.data()}))),s(i),o(!1)}catch(e){c.Am.error("Could not fetch listing")}}()}),[]),(0,l.jsxs)("div",{className:"offer",children:[(0,l.jsx)("h1",{className:"offer__title",children:"Offers"}),t?(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[" ",(0,l.jsx)("div",{className:"loader loader--big"})]}):e&&e.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("main",{children:(0,l.jsx)("ul",{className:"offer__listing",children:e.map((e=>(0,l.jsx)(i.Z,{id:e.id,listing:e.data},e.id)))})}),d&&(0,l.jsx)("div",{className:"offer__load-more-btn-wrap",children:(0,l.jsx)("button",{onClick:async function(){try{const e=(0,a.hJ)(n.db,"listings"),t=(0,a.IO)(e,(0,a.ar)("offer","==",!0),(0,a.Xo)("timestamp","desc"),(0,a.TQ)(d),(0,a.b9)(4)),r=await(0,a.PL)(t),c=r.docs[r.docs.length-1];f(c);const i=[];r.forEach((e=>i.push({id:e.id,data:e.data()}))),s((e=>[...e,...i])),o(!1)}catch(e){c.Am.error("Could not fetch listing")}},className:"offer__load-more-btn",children:"Load more"})})]}):(0,l.jsx)("p",{children:"There are no current offers"})]})}},4645:()=>{}}]);
//# sourceMappingURL=355.91fc4284.chunk.js.map
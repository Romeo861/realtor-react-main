"use strict";(self.webpackChunkrealtor_react=self.webpackChunkrealtor_react||[]).push([[620],{6620:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(7799),r=a(2791),c=a(9085),n=a(673),l=(a(4645),a(7835)),o=a(7689),i=a(184);const d=()=>{const[e,t]=(0,r.useState)(null),[a,d]=(0,r.useState)(!0),[f,h]=(0,r.useState)(null),m=(0,o.UO)();return(0,r.useEffect)((()=>{!async function(){try{const e=(0,s.hJ)(n.db,"listings"),a=(0,s.IO)(e,(0,s.ar)("type","==",m.categoryName),(0,s.Xo)("timestamp","desc"),(0,s.b9)(8)),r=await(0,s.PL)(a),c=r.docs[r.docs.length-1];h(c);const l=[];r.forEach((e=>l.push({id:e.id,data:e.data()}))),t(l),d(!1)}catch(e){c.Am.error("Could not fetch listing")}}()}),[m.categoryName]),(0,i.jsxs)("div",{className:"offer",children:[(0,i.jsx)("h1",{className:"offer__title",children:"rent"===m.categoryName?"Places for rent":"Places for sale"}),a?(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[" ",(0,i.jsx)("div",{className:"loader loader--big"})]}):e&&e.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("main",{children:(0,i.jsx)("ul",{className:"offer__listing",children:e.map((e=>(0,i.jsx)(l.Z,{id:e.id,listing:e.data},e.id)))})}),f&&(0,i.jsx)("div",{className:"offer__load-more-btn-wrap",children:(0,i.jsx)("button",{onClick:async function(){try{const e=(0,s.hJ)(n.db,"listings"),a=(0,s.IO)(e,(0,s.ar)("type","==",m.categoryName),(0,s.Xo)("timestamp","desc"),(0,s.TQ)(f),(0,s.b9)(4)),r=await(0,s.PL)(a),c=r.docs[r.docs.length-1];h(c);const l=[];r.forEach((e=>l.push({id:e.id,data:e.data()}))),t((e=>[...e,...l])),d(!1)}catch(e){c.Am.error("Could not fetch listing")}},className:"offer__load-more-btn",children:"Load more"})})]}):(0,i.jsxs)("p",{children:["There are no current"," ","rent"===m.categoryName?"Places for rent":"Places for sale"]})]})}},4645:()=>{}}]);
//# sourceMappingURL=620.97a019f0.chunk.js.map